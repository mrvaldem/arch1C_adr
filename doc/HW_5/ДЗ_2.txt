# [ADR.001] [Выбор архитектуры для решения портала командировок]
<!-- Название ADR состоит из [ADR.###] [Коротко суть принятого решения] -->
[ADR.001] [Выбор архитектуры для решения "Выдача рассрочек. Верификация клиента"]
* Статус: Предложено
* Владелец: Владимир Листопадов

## Контекст
Интеграция систем приема заявок (ДМС), управления основными данными (МДМ) и проверки клиентов (РЕД).

<!-- Описание проблемы, требующей решения, причин, побудивших принять решение, ограничений, действовавших на момент принятия решения -->
Задача: Минимизировать времени верификации клиентов, обновления данных.

## Варианты решения
<!-- Описание рассмотренных вариантов c их плюсами и минусами -->

### Вариант 1. "Цепочка исполнителей"
<!-- Описание варианта 1 -->
ДМС отправляет запрос на создание (обновление) клиента в МДМ. МДМ сам идет в РЕД за доп.проверками.
Возвращает ответ в ДМС.

* Плюсы
  * Цепочка исполнителей.
* Минусы
  * Размытие бизнес-логики между доменами.
  
### Вариант 2. "ДМС главный"
<!-- Описание варианта 2 -->
ДМС отправляет запрос на создание (обновление) клиента в МДМ. Возвращает ответ (ГУИД).
ДМС идет в РЕД за доп.инфо. Обогащает МДМ.

* Плюсы
  * Бизнес-логика расположена по доменам.
* Минусы
  * Единое точка отказа - ДМС.

## Решение
<!-- Описание выбранного решения. Решение должно быть сформулировано чётко ("Мы используем...", "Мы не используем", а не "Желательно.." или "Предлагается...").-->
Выбран Вариант2.
Транспорт - RabbitMQ 

## Последствия
<!-- Положительные и отрицательные последствия (trade-offs). Арх. решения, которые потребуется принять как следствие принятого решения. Если решение содержит риски, то описано, как с ними планируют поступить (за счет чего снижать, почему принять). -->

